var EventManager=function(a){var b=1,c=function(d){var g=true;d=d||((this.ownerDocument||this.document||this).parentWindow||window).event;var e=this.events[event.type];for(var f in e){if(e[f].call(this,d)===false){g=false}}return g};return{add:a?function(f,e,d){f.addEventListener(e,d,false)}:function(g,f,e){if(!e.$$eventid){e.$$eventid=b+=1}if(!g.events){g.events={}}if(!g.events[f]){g.events[f]={}}var d=g.events[f];d[b]=e;g["on"+f]=c},remove:a?function(f,e,d){f.removeEventListener(e,d,false)}:function(f,e,d){if(f.events&&f.events[e]){delete f.events[e][d.$$eventid]}},fire:function(j,h,d,l){l=document;if(j[h]&&j[h].apply){j[h]()}else{if(l.createEvent){try{d=new Event(h)}catch(k){d=l.createEvent("HTMLEvents");d.initEvent(h,true,false)}j.dispatchEvent(d)}else{if(j.events&&j.events[h]){var f=j.events[h];for(var g in f){f[g].call(j)}}}}}}}(!!document.addEventListener);
