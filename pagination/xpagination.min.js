var xPagination=function(m){var e=function(s,p){var r,q;p=p.split(/\s+/);for(r=p.length,q=" "+s.className+" ";r--;){if(q.indexOf(" "+p[r]+" ")==-1){return false}}return true},h=function(q,p){q.className+=" "+p},n=function(q,p){p=p.split(/\s+/);p.forEach(function(s,r){q.className=q.className.replace(RegExp("\\b"+s+"\\b","g"),"")})},f=function(q,p){p=p||"DIV";var r=m.createElement(p);r.className=q;return r},d={prev:"&lt;",next:"&gt;",last:false,first:false,size:15,max:8,pages:0,items:0,curr:1,info:true,jump:true},o=function(q,p){while(q){if(p(q)){return q}q=q.parentNode}},j=function(p,q){for(var r in q){p[r]=q[r]}return p},g=function(q,p){q.style.display=p===undefined?"none":p},a=function(t,q,p){var u=1,s=Math.floor(p/2),r=Math.min(q,p)-1;if(q>p&&t>=s){u=t-s;if(t===q-1){u=t-(s+1)}if(t===q){u=t-r;u=u||1}}if(u+r>q){u=q-r}u=u>0?u:1;return u},k="page-item-active",i="page-item",c="page-item-hover",b="disable",l=function(q,t){this.options=j({},d);j(this.options,t);var H=this,I=H.options,z=I.pages-=0,M=I.curr-=0,L=I.max-=0,P,E=[],v,u,Q,F,x,N,O,J,w,R,C,A=0,G=0,K,s,y,r={first:1,last:z,next:function(){return I.curr>=z?z:I.curr+1},prev:function(){return I.curr<=1?1:I.curr-1}};if(z===0){z=I.pages=Math.ceil(I.items/I.size)}P=q;if(q.tagName==="UL"){var D=f("page-list-wrap");q.parentNode.replaceChild(q,D);D.appendChild(P);P=D}else{q=f("page-list","UL");P.appendChild(q);if(!e(P,"page-list-wrap")){h(P,"page-list-wrap")}}if(I.first){A+=1;E.push('<li class="'+i+'" ui-page="first">'+I.first+"</li>")}if(I.prev){A+=1;E.push('<li class="page-btn-prev" ui-page="prev">'+I.prev+"</li>")}v=a(M,z,L);u=v+(L-1);if(u>z){u=z}s=[];L=Math.min(L,z);for(K=1;K<=L;K++){s.push('<li class="'+i+'" ui-page="'+K+'">'+K+"</li>")}if(z>L){y='<li class="page-ellipsis" ui-page="ellipsis">...</li>';s.splice(1,0,y);s.splice(s.length-1,0,y);s[s.length-1]='<li class="'+i+'" ui-page="'+z+'">'+z+"</li>"}E=E.concat(s);N=(M===z||z===0)?b:i;if(I.next){G+=1;E.push('<li class="page-btn-next" ui-page="next">'+I.next+"</li>")}if(I.last){G+=1;E.push('<li class="last-page '+N+'" ui-page="last">'+I.last+"</li>")}q.innerHTML=E.join("");H.pageList=function(){var S=q.children.length,U=0,T=[];for(;A<S-G;A++){T.push(q.children[A])}return T}();if(z>L){H.ellipsis=H.pageList.splice(1,1);H.ellipsis.push(H.pageList.splice(-2,1)[0])}if(I.onpagination){H.onpagination=I.onpagination}if(I.size){I.size-=0;var B=f("page-list page-size","ul"),p={15:0,30:1,50:2};B.innerHTML='<li class="page-item">15</li><li class="page-item">30</li><li class="page-item">50</li>';P.insertBefore(B,q);h(B.children[p[I.size]],c);B.onclick=function(T){T=T||window.event;R=T.target||T.srcElement;C=R.tagName==="LI"?R:o(R,function(U){return U.tagName==="LI"});if(!e(C,c)){var S=+C.innerHTML;H.options.size=S;H.onpagination&&H.onpagination(I.curr,S);for(K=0;K<3;K++){n(B.children[K],c)}h(C,c)}}}if(I.info){Q=f("page-text","li");if(I.items){Q.innerHTML="共"+I.items+"条"}else{Q.innerHTML="共"+z+"页"}H.info=q.appendChild(Q)}if(I.jump){F=f("page-text page-input","li");F.innerHTML='到第<span class="mid-helper"></span><input type="text" class="mid-text page-position">页';x=f("page-btn","li");x.innerHTML="<button>确定</button>";q.appendChild(F);F.onkeydown=function(U){U=core.wrapEvent(U);var S=this.getElementsByTagName("input")[0],T=+S.value;if(!isNaN(T)&&T!=""&&(U.which===13)){H.go(+T)}};H.jump=q.appendChild(x);H.jump.onclick=function(){w=this.previousSibling.getElementsByTagName("input")[0].value;if(!isNaN(+w)&&w!==""){H.go(+w)}}}q.onclick=function(S){M=I.curr;S=S||window.event;R=S.target||S.srcElement;C=R.tagName==="LI"?R:o(R,function(T){return T.tagName==="LI"});w=C.getAttribute("ui-page");if(w&&w!=="ellipsis"){if(r[w]){J=r[w];w="function"===typeof J?J():J}if(M!==w){H.go(+w)}}};H.go(I.curr)};l.prototype.go=function(y){var A=this,t=A.pageList,C=A.ellipsis,u=t.length,z=A.options,B=z.max,r=z.pages,D,v,x,E="center",s=t[0].previousSibling,w=t[u-1].nextSibling;y=y>z.pages?z.pages:(y<1?1:y);z.curr=y;if(A.currPageElement){n(A.currPageElement,k)}A.currPageElement=null;if(A.onpagination&&A.onpagination(y,z.size)===false){return}function p(F){h(F,k);A.currPageElement=F}function q(F){if(F>r-B+1){F=r-B+2}for(v=1;v<u-1;v++){D=t[v];x=F+v-1;D.innerHTML=x;D.setAttribute("ui-page",x);if(x===y){p(D)}}}if(r<=B){p(t[y-1])}else{if(y<=Math.ceil(B/2)){E="start"}else{if(y>=Math.ceil(r-B/2)){E="end"}}if(E==="center"){g(C[0],"");g(C[1],"");q(y-(Math.ceil(B/2-1)-1))}else{if(E==="start"){g(C[0]);g(C[1],"");q(2)}else{g(C[0],"");g(C[1]);q(Math.floor(r-B/2))}}}if(y===1){p(t[0]);h(s,b)}else{n(s,b)}if(y===r){p(t[u-1]);h(w,b)}else{n(w,b)}if(A.jump){A.jump.previousSibling.getElementsByTagName("input")[0].value=y}};return function(q,p){return new l(q,p)}}(document);